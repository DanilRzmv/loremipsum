<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Raleway:wght@800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/src/style.scss" />
    <title>Loremipsum</title>
  </head>
  <body>
    <header class="header">
      <div class="header__inner container">
        <nav class="header__nav">
          <div class="header__logo">
            <h1 class="header__logo-text">
              LoremIpsum.<span class="header__logo-accent">Net</span>
            </h1>
          </div>
          <ul class="header__menu" id="menuList">
            <li class="header__menu-item">
              <a class="header__menu-link header__menu-link--active" href=""
                >Бизнес</a
              >
            </li>
            <li class="header__menu-item">
              <a class="header__menu-link" href="">О нас</a>
            </li>
            <li class="header__menu-item">
              <a class="header__menu-link" href="">Цены</a>
            </li>
            <li class="header__menu-item">
              <a class="header__menu-link" href="">Оформить заказ</a>
            </li>
          </ul>
          <button
            class="header__menu-icon"
            aria-label="Переключить меню"
            onclick="toggleMenu()"
          >
            <span class="header__menu-icon-bar"></span>
            <span class="header__menu-icon-bar"></span>
            <span class="header__menu-icon-bar"></span>
          </button>
        </nav>
      </div>
    </header>

    <main>
      <section class="hero">
        <div class="hero__inner container">
          <div class="hero__content">
            <h1 class="hero__title">
              <span class="hero__title-accent">Lorem ipsum</span> dolor sit
              ametconsectetur
              <span class="hero__title-accent">adipiscing</span>
            </h1>
            <div class="hero__info-block">
              <h2 class="hero__info-block__title">
                At vero eos et accusamus et iusto odio dignissimos ducimus!
              </h2>
              <ul class="hero__info-block__list">
                <li class="hero__info-block__item">
                  <span class="hero__info-block__dash">-</span>
                  <span class="hero__info-block__text"
                    >Totam rem aperiam eaque ipsa</span
                  >
                </li>
                <li class="hero__info-block__item">
                  <span class="hero__info-block__dash">-</span>
                  <span class="hero__info-block__text"
                    >Sit voluptatem accusantium doloremque laudantium</span
                  >
                </li>
                <li class="hero__info-block__item">
                  <span class="hero__info-block__dash">-</span>
                  <span class="hero__info-block__text"
                    >Sed ut perspiciatis, unde omnis iste natus error</span
                  >
                </li>
              </ul>
            </div>
            <div class="hero__buttons">
              <button class="hero__button button button--primary">
                Заказать
              </button>
              <button class="hero__button button button--secondary">
                Подробнее
              </button>
            </div>
          </div>
        </div>
      </section>

      <section class="order">
        <div class="order__inner container">
          <div class="order__header">
            <h2 class="order__title">
              Оформление <span class="order__title-accent">Заказа</span>
            </h2>
            <p class="order__description">
              Перед заполнением формы ознакомьтесь с нашей схемой работы!
            </p>
          </div>

          <div class="order__steps">
            <div class="steps">
              <div class="steps__step">
                <div class="steps__circle circle">
                  <img src="/search.svg" alt="search" />
                </div>
                <div class="steps__text">Lorem ipsum dolor sit amet</div>
              </div>

              <div class="steps__dots-wrapper">
                <div class="steps__dot"></div>
                <div class="steps__dot"></div>
                <div class="steps__dot"></div>
                <div class="steps__dot"></div>
                <div class="steps__dot"></div>
              </div>

              <div class="steps__step">
                <div class="steps__circle circle">
                  <img src="/percent.svg" alt="percent" />
                </div>
                <div class="steps__text">Сonsecteturadipiscing elit</div>
              </div>

              <div class="steps__dots-wrapper">
                <div class="steps__dot"></div>
                <div class="steps__dot"></div>
                <div class="steps__dot"></div>
                <div class="steps__dot"></div>
                <div class="steps__dot"></div>
              </div>

              <div class="steps__step">
                <div class="steps__circle circle">
                  <img src="/file.svg" alt="file" />
                </div>
                <div class="steps__text">Sed do eiusmod tempor</div>
              </div>

              <div class="steps__dots-wrapper">
                <div class="steps__dot"></div>
                <div class="steps__dot"></div>
                <div class="steps__dot"></div>
                <div class="steps__dot"></div>
                <div class="steps__dot"></div>
              </div>

              <div class="steps__step">
                <div class="steps__circle circle">
                  <img src="/message.svg" alt="message" />
                </div>
                <div class="steps__text">Esse cillum dolore eu fugiat</div>
              </div>

              <div class="steps__dots-wrapper">
                <div class="steps__dot"></div>
                <div class="steps__dot"></div>
                <div class="steps__dot"></div>
                <div class="steps__dot"></div>
                <div class="steps__dot"></div>
              </div>

              <div class="steps__step">
                <div class="steps__circle circle">
                  <img src="/money.svg" alt="money" />
                </div>
                <div class="steps__text">
                  Excepteur sint occaecat cupidatat non proident
                </div>
              </div>
            </div>
          </div>

          <div class="order__form">
            <form class="form">
              <div class="form__row">
                <div class="form__field">
                  <label for="system-type" class="form__label"
                    >Выберите тип системы</label
                  >
                  <div class="select">
                    <div
                      class="select__header"
                      tabindex="0"
                      aria-haspopup="listbox"
                      aria-expanded="false"
                    >
                      <span class="select__current" data-value=""
                        >Выберите тип системы</span
                      >
                      <div class="select__icon">
                        <svg
                          width="12"
                          height="8"
                          viewBox="0 0 12 8"
                          fill="none"
                        >
                          <path
                            d="M1.41 0.590088L6 5.17009L10.59 0.590088L12 2.00009L6 8.00009L0 2.00009L1.41 0.590088Z"
                            fill="currentColor"
                          />
                        </svg>
                      </div>
                    </div>
                    <div class="select__body" role="listbox">
                      <ul class="select__list">
                        <li class="select__item" data-value="1" role="option">
                          Sed ut perspiciatis
                        </li>
                        <li class="select__item" data-value="2" role="option">
                          Nemo enim ipsam
                        </li>
                        <li class="select__item" data-value="3" role="option">
                          Et harum quidem
                        </li>
                        <li class="select__item" data-value="4" role="option">
                          Temporibus autem
                        </li>
                        <li class="select__item" data-value="5" role="option">
                          Itaque earum rerum
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>

                <div class="form__field">
                  <label for="email" class="form__label">Ваш e-mail</label>
                  <input
                    type="email"
                    id="email"
                    class="form__input"
                    required
                    autocomplete="email"
                    pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"
                    placeholder="Ваш e-mail"
                  />
                </div>

                <div class="form__field">
                  <label for="name" class="form__label">Ваше имя</label>
                  <input
                    type="text"
                    id="name"
                    class="form__input"
                    required
                    autocomplete="name"
                    minlength="2"
                    maxlength="50"
                    placeholder="Ваше имя"
                  />
                </div>
              </div>

              <div class="form__row">
                <div class="progress">
                  <div class="progress__header">
                    <span class="progress__title"
                      >Sed ut perspiciatis, unde omnis iste natus</span
                    >
                    <span class="progress__percentage">75%</span>
                  </div>
                  <div class="progress__bar">
                    <div class="progress__dot circle"></div>
                  </div>
                </div>

                <div class="file-upload">
                  <label for="file-input" class="file-upload__label">
                    <span class="file-upload__icon"></span>
                    <span class="file-upload__text">Прикрепить файл</span>
                  </label>
                  <input
                    type="file"
                    id="file-input"
                    class="file-upload__input"
                    multiple
                    aria-label="Прикрепить файл"
                  />
                </div>
              </div>

              <div class="form__button">
                <button class="button button--primary">Отправить</button>
              </div>
            </form>
          </div>
        </div>
      </section>
    </main>

    <footer class="footer">
      <div class="footer__inner container">
        <div class="footer__content">
          <div class="footer__item footer__item--copyright">
            © 2018 «LoremIpsum.net» Все права защищены.
          </div>

          <div class="footer__divider"></div>

          <div class="footer__row">
            <div class="footer__item">
              <img src="/qiwi.svg" alt="qiwi" />
              <span>Qiwi wallet</span>
            </div>

            <div class="footer__item">
              <img src="/yandex-money.svg" alt="yandex-money" />
              <span>Yandex Money</span>
            </div>

            <div class="footer__item">
              <img src="/web-money.svg" alt="web-money" />
              <span>Web Money</span>
            </div>
          </div>

          <div class="footer__divider"></div>

          <div class="footer__row">
            <a
              href="mailto:info@ipsum228.com"
              class="footer__item footer__link"
            >
              <img src="/email.svg" alt="email" />
              <span>info@ipsum228.com</span>
            </a>

            <a href="#" class="footer__item footer__link">
              <img src="/vk.svg" alt="vk" />
              <span>Мы вконтакте</span>
            </a>
          </div>
        </div>
      </div>
    </footer>

    <script>
      const list = document.querySelector(".header__menu");
      const menuToggle = document.querySelector(".header__menu-icon");

      const toggleMenu = () => {
        menuToggle.classList.toggle("header__menu-icon--active");
        list.classList.toggle("header__menu--active");
      };

      document.addEventListener("DOMContentLoaded", () => {
        const fileInput = document.getElementById("file-input");

        fileInput.addEventListener("change", (e) => {
          if (e.target.files.length > 0) {
            const fileCount = e.target.files.length;
            const fileWord =
              fileCount === 1
                ? "файл"
                : fileCount >= 2 && fileCount <= 4
                ? "файла"
                : "файлов";

            const notification = document.createElement("div");
            notification.textContent = `Успешно загружено ${fileCount} ${fileWord}`;
            notification.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            background: #27ae60;
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            animation: fadeIn 0.3s, fadeOut 0.5s 2.5s;
          `;

            const style = document.createElement("style");
            style.textContent = `
            @keyframes fadeIn {
              from { opacity: 0; transform: translateY(-20px); }
              to { opacity: 1; transform: translateY(0); }
            }
            @keyframes fadeOut {
              from { opacity: 1; }
              to { opacity: 0; }
            }
          `;

            document.head.appendChild(style);
            document.body.appendChild(notification);

            setTimeout(() => {
              notification.remove();
              style.remove();
            }, 3000);
          }
        });
      });

      const select = document.querySelector(".select");
      const selectHeader = select.querySelector(".select__header");
      const selectBody = select.querySelector(".select__body");
      const selectCurrent = select.querySelector(".select__current");
      const selectItems = select.querySelectorAll(".select__item");
      const selectIcon = select.querySelector(".select__icon");

      const updateSelectedItem = (item) => {
        selectItems.forEach((el) =>
          el.classList.remove("select__item--selected")
        );

        item.classList.add("select__item--selected");

        selectCurrent.textContent = item.textContent;
        selectCurrent.dataset.value = item.dataset.value;

        selectHeader.setAttribute("aria-expanded", "false");
        selectBody.setAttribute("aria-hidden", "true");
      };

      const toggleSelect = (open) => {
        const isOpening = open ?? !select.classList.contains("select--active");

        if (isOpening) {
          select.classList.add("select--active");
          selectIcon.classList.add("select__icon--rotated");
          selectBody.style.display = "block";

          requestAnimationFrame(() => {
            selectBody.style.opacity = "1";
            selectBody.style.transform = "translateY(0) scaleY(1)";
          });

          selectHeader.setAttribute("aria-expanded", "true");
          selectBody.setAttribute("aria-hidden", "false");
        } else {
          selectBody.style.opacity = "0";
          selectBody.style.transform = "translateY(-10px) scaleY(0.95)";

          select.classList.remove("select--active");
          selectIcon.classList.remove("select__icon--rotated");

          setTimeout(() => {
            if (!select.classList.contains("select--active")) {
              selectBody.style.display = "none";
            }
          }, 300);

          selectHeader.setAttribute("aria-expanded", "false");
          selectBody.setAttribute("aria-hidden", "true");
        }
      };

      const initialSelected = select.querySelector(".select__item--selected");
      if (initialSelected) {
        updateSelectedItem(initialSelected);
      }

      selectHeader.addEventListener("click", (e) => {
        e.stopPropagation();
        toggleSelect();
      });

      selectItems.forEach((item) => {
        item.addEventListener("click", () => {
          updateSelectedItem(item);
          toggleSelect(false);
        });
      });

      document.addEventListener("click", (e) => {
        if (!e.target.closest(".select")) {
          toggleSelect(false);
        }
      });

      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") {
          toggleSelect(false);
        }

        if (
          select.classList.contains("select--active") &&
          (e.key === "ArrowDown" || e.key === "ArrowUp")
        ) {
          e.preventDefault();
          const currentIndex = Array.from(selectItems).findIndex((item) =>
            item.classList.contains("select__item--selected")
          );

          let newIndex = currentIndex;

          if (e.key === "ArrowDown") {
            newIndex = Math.min(currentIndex + 1, selectItems.length - 1);
          } else if (e.key === "ArrowUp") {
            newIndex = Math.max(currentIndex - 1, 0);
          }

          if (newIndex !== currentIndex) {
            updateSelectedItem(selectItems[newIndex]);
            selectItems[newIndex].scrollIntoView({ block: "nearest" });
          }
        }
      });

      selectHeader.addEventListener("keydown", (e) => {
        if (e.key === "Tab" && select.classList.contains("select--active")) {
          toggleSelect(false);
        }
      });
    </script>
  </body>
</html>
